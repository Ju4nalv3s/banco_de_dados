<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionário de Banco de Dados</title>
    <style>
        /* seu CSS original */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        .progress-bar {
            background: #ecf0f1;
            height: 8px;
            margin: 20px 30px;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            background: linear-gradient(90deg, #3498db, #2ecc71);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        .question-container {
            padding: 30px;
            display: none;
        }
        .question-container.active {
            display: block;
        }
        .question {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 5px solid #3498db;
        }
        .question h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
            line-height: 1.5;
        }
        .options {
            list-style: none;
        }
        .option {
            margin: 12px 0;
            cursor: pointer;
            padding: 15px 20px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }
        .option:hover {
            border-color: #3498db;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }
        .option input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.2);
        }
        .option.selected {
            background: #e8f4fd;
            border-color: #3498db;
            color: #2c3e50;
        }
        .option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-2px);
        }
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .question-counter {
            color: #6c757d;
            font-weight: 600;
        }
        .results {
            display: none;
            text-align: center;
            padding: 50px 30px;
        }
        .results.show {
            display: block;
        }
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            font-weight: bold;
            color: white;
        }
        .score-excellent {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        .score-good {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }
        .score-poor {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        .feedback {
            margin: 20px 0;
            font-size: 1.2em;
            color: #2c3e50;
        }
        .start-screen {
            text-align: center;
            padding: 50px 30px;
        }
        .start-screen h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2em;
        }
        .instructions {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
            text-align: left;
        }
        .instructions ul {
            margin: 15px 0 0 20px;
        }
        .instructions li {
            margin: 8px 0;
            color: #495057;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Questionário de Banco de Dados</h1>
            <p>Teste seus conhecimentos sobre conceitos fundamentais, MER e modelagem</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Tela inicial -->
        <div id="startScreen" class="start-screen">
            <h2>Bem-vindo ao Questionário!</h2>
            <div class="instructions">
                <h3>Instruções:</h3>
                <ul>
                    <li>O questionário contém 25 questões de múltipla escolha</li>
                    <li>Cada questão tem apenas uma resposta correta</li>
                    <li>Você pode voltar para questões anteriores para revisar</li>
                    <li>Ao final, você receberá sua pontuação e feedback</li>
                </ul>
            </div>
            <button class="btn btn-primary" onclick="startQuiz()">Iniciar Questionário</button>
        </div>

        <!-- Container das questões -->
        <div id="questionsContainer"></div>

        <!-- Tela de resultados -->
        <div id="results" class="results">
            <h2>Questionário Concluído!</h2>
            <div id="scoreCircle" class="score-circle">
                <span id="scoreText">0%</span>
            </div>
            <div class="feedback">
                <p id="feedbackText"></p>
                <p>Você acertou <span id="correctCount">0</span> de 25 questões.</p>
            </div>
            <button class="btn btn-primary" onclick="restartQuiz()">Refazer Questionário</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Qual a diferença conceitual entre dado, informação e conhecimento?",
                options: [
                    "Não há diferença, são sinônimos",
                    "Dados são fatos primários, informação são dados organizados com valor adicional, conhecimento são regras para manipular dados",
                    "Informação é mais importante que conhecimento",
                    "Dados e informações são a mesma coisa, conhecimento é diferente"
                ],
                correct: 1
            },
            {
        question: "Qual a diferença conceitual entre dado, informação e conhecimento?",
        options: [
          "Não há diferença, são sinônimos",
          "Dados são fatos primários, informação são dados organizados com valor adicional, conhecimento são regras para manipular dados",
          "Informação é mais importante que conhecimento",
          "Dados e informações são a mesma coisa, conhecimento é diferente"
        ],
        correct: 1
      },
      {
        question: "No Modelo Entidade-Relacionamento (MER), o que é uma entidade?",
        options: [
          "Um atributo de um dado",
          "Um conjunto de informações derivadas",
          "Um objeto do mundo real que pode ser identificado de forma única",
          "Uma chave primária em uma tabela"
        ],
        correct: 2
      },
      {
        question: "Qual é a principal função de uma chave primária em um banco de dados relacional?",
        options: [
          "Permitir relacionamentos entre tabelas",
          "Garantir unicidade dos registros",
          "Definir atributos obrigatórios",
          "Ordenar os dados de forma automática"
        ],
        correct: 1
      },
      {
        question: "O que caracteriza um relacionamento 1:N no MER?",
        options: [
          "Uma entidade pode se relacionar com várias instâncias de outra, mas a segunda só pode se relacionar com uma instância da primeira",
          "As duas entidades podem ter várias instâncias relacionadas entre si",
          "Uma entidade só pode se relacionar com uma instância da outra",
          "Não existe relacionamento 1:N em MER"
        ],
        correct: 0
      },
      {
        question: "Qual é a função de uma chave estrangeira em um banco de dados relacional?",
        options: [
          "Identificar unicamente uma linha em uma tabela",
          "Armazenar dados temporários",
          "Estabelecer vínculo entre tabelas por meio de referência à chave primária",
          "Impedir inserção de dados duplicados"
        ],
        correct: 2
      },
      {
        question: "No MER, atributos multivalorados devem ser tratados como?",
        options: [
          "Um campo comum da tabela",
          "Uma tabela separada ou entidade associada",
          "Um índice de busca",
          "Uma chave estrangeira"
        ],
        correct: 1
      },
      {
        question: "Qual dos seguintes é um exemplo de atributo derivado?",
        options: [
          "Nome de um cliente",
          "Data de nascimento",
          "Idade",
          "Número de matrícula"
        ],
        correct: 2
      },
      {
        question: "O que é normalização em banco de dados?",
        options: [
          "Processo de otimização de consultas",
          "Processo de eliminar redundâncias e inconsistências nos dados",
          "Método de indexação automática",
          "Estratégia para aumentar a segurança dos dados"
        ],
        correct: 1
      },
      {
        question: "No MER, como é representado um relacionamento?",
        options: [
          "Por meio de retângulos",
          "Por meio de losangos",
          "Por meio de elipses",
          "Por meio de chaves primárias"
        ],
        correct: 1
      },
      {
        question: "Qual é a diferença entre chave candidata e chave primária?",
        options: [
          "Chave candidata é um campo obrigatório e chave primária é opcional",
          "Chave primária é escolhida entre as chaves candidatas para identificar unicamente os registros",
          "Chave candidata serve apenas como índice",
          "Não existe diferença entre elas"
        ],
        correct: 1
      },
      {
        question: "Qual símbolo representa atributos no MER?",
        options: [
          "Retângulo",
          "Elipse",
          "Losango",
          "Sublinhado"
        ],
        correct: 1
      },
      {
        question: "O que caracteriza uma entidade fraca?",
        options: [
          "Não possui chave primária própria",
          "Não pode se relacionar com outras entidades",
          "É sempre multivalorada",
          "Não pode ter atributos compostos"
        ],
        correct: 0
      },
      {
        question: "Como se representa uma chave primária no MER?",
        options: [
          "Atributo com linha dupla",
          "Atributo sublinhado",
          "Retângulo sombreado",
          "Elipse pontilhada"
        ],
        correct: 1
      },
      {
        question: "Um auto-relacionamento no MER ocorre quando:",
        options: [
          "Uma entidade se relaciona com outra de mesmo tipo",
          "Uma entidade se relaciona com ela mesma",
          "Dois atributos são iguais",
          "Um relacionamento é duplicado"
        ],
        correct: 1
      },
      {
        question: "No mapeamento de um relacionamento N:N para o modelo relacional:",
        options: [
          "As entidades viram atributos",
          "Cria-se uma nova tabela para representar o relacionamento",
          "Ele se transforma em relacionamento 1:N",
          "É impossível mapear"
        ],
        correct: 1
      },
      {
        question: "O que é integridade referencial?",
        options: [
          "Restrição que impede redundância de atributos",
          "Regra que garante que valores de chave estrangeira correspondam a uma chave primária existente",
          "Garantia de que não existam atributos nulos",
          "Controle de concorrência no banco de dados"
        ],
        correct: 1
      },
      {
        question: "A participação total em um relacionamento significa que:",
        options: [
          "A entidade pode existir sem participar do relacionamento",
          "Toda instância da entidade deve obrigatoriamente participar do relacionamento",
          "A entidade não pode ter chave primária",
          "O relacionamento deve ser N:N"
        ],
        correct: 1
      },
      {
        question: "No modelo relacional, uma tupla corresponde a:",
        options: [
          "Um atributo",
          "Uma linha da tabela",
          "Uma coluna da tabela",
          "Um relacionamento"
        ],
        correct: 1
      },
      {
        question: "O que representa a chave estrangeira em uma tabela?",
        options: [
          "Uma cópia da chave primária de outra tabela",
          "Um atributo opcional sem vínculo",
          "Uma coluna derivada",
          "Um índice auxiliar"
        ],
        correct: 0
      },
      {
        question: "Na especialização no MER:",
        options: [
          "Uma entidade genérica é dividida em entidades mais específicas",
          "Relacionamentos se transformam em atributos",
          "Atributos compostos são simplificados",
          "Uma entidade fraca se torna forte"
        ],
        correct: 0
      },
      {
        question: "No mapeamento de um atributo multivalorado para o modelo relacional:",
        options: [
          "O atributo é armazenado na mesma tabela, repetido",
          "Cria-se uma nova tabela para armazenar seus valores",
          "Ele é descartado",
          "É convertido em chave estrangeira"
        ],
        correct: 1
      },
      {
        question: "Qual é a diferença entre instância e esquema em banco de dados?",
        options: [
          "Esquema é a estrutura (definição) e instância são os dados em um momento específico",
          "Instância é a estrutura e esquema são os dados",
          "Ambos representam apenas os dados",
          "Ambos representam apenas a estrutura"
        ],
        correct: 0
      },
      {
        question: "O que significa generalização no MER?",
        options: [
          "Transformar atributos compostos em simples",
          "Combinar entidades específicas em uma entidade mais genérica",
          "Remover relacionamentos fracos",
          "Dividir entidades fortes em entidades fracas"
        ],
        correct: 1
      },
      {
        question: "Qual representação correta para relacionamento no MER?",
        options: [
          "Elipse",
          "Retângulo",
          "Losango",
          "Linha sublinhada"
        ],
        correct: 2
      },
      {
        question: "No MER, o atributo derivado é representado como:",
        options: [
          "Elipse tracejada",
          "Retângulo em negrito",
          "Elipse dupla",
          "Sublinhado"
        ],
        correct: 0
      },


    {
    question: "No MER, um atributo composto é representado:",
    options: [
        "Por um retângulo duplo",
        "Por uma elipse ligada a outras elipses",
        "Por uma linha pontilhada",
        "Por um losango interno"
    ],
    correct: 1
    },
    {
    question: "Qual alternativa representa corretamente um atributo multivalorado no MER?",
    options: [
        "Elipse dupla",
        "Elipse tracejada",
        "Retângulo sombreado",
        "Sublinhado"
    ],
    correct: 0
    },
    {
    question: "No MER, uma entidade associativa é utilizada para:",
    options: [
        "Representar atributos compostos",
        "Transformar um relacionamento N:N em entidade",
        "Definir chaves estrangeiras",
        "Armazenar atributos derivados"
    ],
    correct: 1
    },
    {
    question: "Na modelagem, o termo 'cardinalidade mínima' indica:",
    options: [
        "O número máximo de ocorrências",
        "O número mínimo de vezes que uma entidade deve participar do relacionamento",
        "Se o relacionamento é obrigatório ou opcional",
        "O tipo de chave primária usada"
    ],
    correct: 1
    },
    {
    question: "A diferença entre participação total e parcial é:",
    options: [
        "Total: todas instâncias devem participar; Parcial: algumas podem não participar",
        "Total: apenas atributos compostos; Parcial: apenas atributos simples",
        "Total: usada em entidades fortes; Parcial: em fracas",
        "Não há diferença prática"
    ],
    correct: 0
    },
    {
    question: "Qual é a característica principal de uma entidade fraca?",
    options: [
        "Depende de uma entidade forte para existir",
        "Não pode ter relacionamentos",
        "Não aceita atributos multivalorados",
        "É derivada de atributos compostos"
    ],
    correct: 0
    },
    {
    question: "No modelo relacional, a operação de JOIN serve para:",
    options: [
        "Excluir registros duplicados",
        "Unir dados de duas ou mais tabelas com base em atributos relacionados",
        "Remover chaves estrangeiras",
        "Normalizar tabelas"
    ],
    correct: 1
    },
    {
    question: "O que é uma chave substituta (surrogate key)?",
    options: [
        "Uma chave estrangeira de outra tabela",
        "Um atributo artificial criado apenas para identificar registros",
        "Um atributo multivalorado",
        "Um índice de pesquisa"
    ],
    correct: 1
    },
    {
    question: "No MER, qual símbolo representa uma entidade?",
    options: [
        "Retângulo",
        "Elipse",
        "Losango",
        "Triângulo"
    ],
    correct: 0
    },
    {
    question: "Na especialização total, toda entidade do supertipo:",
    options: [
        "Deve obrigatoriamente pertencer a pelo menos um subtipo",
        "Pode ou não pertencer a um subtipo",
        "Se torna um atributo derivado",
        "É descartada do modelo"
    ],
    correct: 0
    },
    {
    question: "O que diferencia especialização de generalização?",
    options: [
        "Especialização divide entidades em subconjuntos; generalização combina entidades em um supertipo",
        "Especialização une atributos; generalização elimina relacionamentos",
        "Especialização ocorre apenas em entidades fracas",
        "Não há diferença prática"
    ],
    correct: 0
    },
    {
    question: "No modelo relacional, a integridade de entidade garante que:",
    options: [
        "Nenhum valor de chave primária pode ser nulo",
        "As chaves estrangeiras sempre existam",
        "Todos os atributos sejam obrigatórios",
        "Não haja redundância"
    ],
    correct: 0
    },
    {
    question: "No MER, um atributo derivado é usado para:",
    options: [
        "Armazenar valores calculados a partir de outros atributos",
        "Identificar unicamente a entidade",
        "Representar cardinalidade",
        "Definir integridade referencial"
    ],
    correct: 0
    },
    {
    question: "Qual a principal vantagem da normalização?",
    options: [
        "Melhora a integridade e reduz redundância",
        "Aumenta a velocidade das consultas",
        "Elimina necessidade de chaves primárias",
        "Permite uso de atributos multivalorados"
    ],
    correct: 0
    },
    {
    question: "O que é agregação no MER?",
    options: [
        "Relacionamento tratado como entidade para se relacionar com outra entidade",
        "Atributos compostos sendo divididos em partes menores",
        "Combinação de duas entidades fortes em uma fraca",
        "Conversão de relacionamentos N:N em 1:N"
    ],
    correct: 0
    }
   
        ];

        let currentQuestion = 0;
        let userAnswers = [];

        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            generateQuestions();
            showQuestion(0);
        }

        function generateQuestions() {
            const container = document.getElementById('questionsContainer');
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                questionDiv.id = `question-${index}`;

                questionDiv.innerHTML = `
                    <div class="question">
                        <h3>${index + 1}. ${q.question}</h3>
                        <ul class="options">
                            ${q.options.map((option, optIndex) => `
                                <li class="option" onclick="selectOption(${index}, ${optIndex})">
                                    <input type="radio" name="q${index}" value="${optIndex}" id="q${index}_${optIndex}">
                                    <label for="q${index}_${optIndex}">${String.fromCharCode(97 + optIndex)}) ${option}</label>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    <div class="navigation">
                        <button class="btn btn-secondary" onclick="previousQuestion()" ${index === 0 ? 'style="visibility: hidden"' : ''}>
                            ← Anterior
                        </button>
                        <span class="question-counter">Questão ${index + 1} de ${questions.length}</span>
                        <button class="btn btn-primary" onclick="${index === questions.length - 1 ? 'finishQuiz()' : 'nextQuestion()'}">
                            ${index === questions.length - 1 ? 'Finalizar' : 'Próxima →'}
                        </button>
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function showQuestion(index) {
            document.querySelectorAll('.question-container').forEach(q => {
                q.classList.remove('active');
            });
            document.getElementById(`question-${index}`).classList.add('active');
            currentQuestion = index;
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            if (userAnswers[index] !== undefined) {
                selectOption(index, userAnswers[index], false);
            }
        }

        // === FUNÇÃO MODIFICADA PARA VERDE/VERMELHO ===
        function selectOption(questionIndex, optionIndex, updateAnswer = true) {
            const options = document.querySelectorAll(`#question-${questionIndex} .option`);
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });

            const selectedOption = options[optionIndex];
            selectedOption.classList.add('selected');
            document.getElementById(`q${questionIndex}_${optionIndex}`).checked = true;

            if (updateAnswer) {
                userAnswers[questionIndex] = optionIndex;
            }

            // Colore como correto ou incorreto
            if (optionIndex === questions[questionIndex].correct) {
                selectedOption.classList.add('correct');
            } else {
                selectedOption.classList.add('incorrect');
                const correctOption = options[questions[questionIndex].correct];
                correctOption.classList.add('correct');
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }

        function finishQuiz() {
            document.getElementById('questionsContainer').style.display = 'none';
            let correctAnswers = 0;
            questions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    correctAnswers++;
                }
            });
            showResults(correctAnswers);
        }

        function showResults(correctAnswers) {
            const percentage = Math.round((correctAnswers / questions.length) * 100);
            const scoreCircle = document.getElementById('scoreCircle');
            const scoreText = document.getElementById('scoreText');
            const feedbackText = document.getElementById('feedbackText');
            const correctCount = document.getElementById('correctCount');

            scoreText.textContent = percentage + '%';
            correctCount.textContent = correctAnswers;

            if (percentage >= 80) {
                scoreCircle.className = 'score-circle score-excellent';
                feedbackText.textContent = 'Excelente! Você demonstra ótimo conhecimento em Banco de Dados!';
            } else if (percentage >= 60) {
                scoreCircle.className = 'score-circle score-good';
                feedbackText.textContent = 'Bom trabalho! Continue estudando para aprimorar seus conhecimentos.';
            } else {
                scoreCircle.className = 'score-circle score-poor';
                feedbackText.textContent = 'Continue estudando! Revise o material e tente novamente.';
            }

            document.getElementById('results').classList.add('show');
            document.getElementById('progressFill').style.width = '100%';
        }

        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            document.getElementById('results').classList.remove('show');
            document.getElementById('questionsContainer').style.display = 'block';
            document.getElementById('startScreen').style.display = 'block';
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            document.getElementById('progressFill').style.width = '0%';
        }
    </script>
</body>
</html>
